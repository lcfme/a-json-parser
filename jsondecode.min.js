!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.JSONParse=r():e.JSONParse=r()}(window,function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r){function n(e){if(0===e.length)return null;let r=0,n=e[r],t=e.length;var a=u();return r!==t&&console.warn("It maybe have errors in result. there are tokens remained in buffer."),a;function u(){if("number"===(n=e[r]).name)return function(){let t="";n=e[r];for(;n&&("number"===n.name||"."===n.name);){if(t.indexOf(".")>-1&&"."===n.name)throw new Error("parse number error at: "+r);t+=n.value,n=e[++r]}return parseFloat(t)}();if("quote_single"===n.name||"quote_double"===n.name)return o();if("object_begin"===n.name)return function(){var t={};n=e[++r];for(;n&&"object_end"!==n.name;){var a,i;if("string"===(n=e[r]).name)a=n.value,n=e[++r];else{if("quote_single"!==n.name&&"quote_double"!==n.name)throw new Error("parse object key error at: "+r);a=o()}if(":"!==n.name)throw new Error("parse object error at:"+r);i=u(e.slice(++r)),t[a]=i,","===n.name&&(n=e[++r])}return n=e[++r],t}();if("array_begin"===n.name)return function(){var t=[];n=e[++r];for(;n&&"array_end"!==n.name;)if(n=e[r],t.push(u(e.slice(r))),","!==n.name){if("array_end"!==n.name)throw new Error("parse array error end at: "+r)}else n=e[++r];return n=e[++r],t}();if("string"===n.name)return function(){if("string"===n.name){if("false"===n.value)return n=e[++r],!1;if("true"===n.value)return n=e[++r],!0;if("null"===n.value)return n=e[++r],null}throw new Error("parse words error at: "+r)}();throw new Error("parse error: unknow type at: "+r)}function o(){let t=n.name,a="";for(n=e[++r];n&&(n.name!==t||"escape"===e[r-1].name);)a+=n.value,n=e[++r];return n=e[++r],a}}e.exports=function(e){return n(function(e){let r=0,n=e.length,t=[];for(;r<n;){let n=e[r];if(/\s/.test(n))r++;else if("/"!==n||"/"!==e[r+1])if("/"!==n||"*"!==e[r+1])if(/\d/.test(n)){let a="";for(;n&&/\d/.test(n);)a+=n,n=e[++r];t.push({name:"number",value:a})}else if("."!==n)if(/\w/.test(n)){let a="";for(;n&&/[\w\d]/.test(n);)a+=n,n=e[++r];t.push({name:"string",value:a})}else"{"!==n?"}"!==n?"["!==n?"]"!==n?"'"!==n?'"'!==n?"\\"!==n?":"!==n?","!==n?(t.push({name:"char",value:n}),r++):(t.push({name:",",value:n}),r++):(t.push({name:":",value:n}),r++):(t.push({name:"escape",value:n}),r++):(t.push({name:"quote_double",value:n}),r++):(t.push({name:"quote_single",value:n}),r++):(t.push({name:"array_end",value:n}),r++):(t.push({name:"array_begin",value:n}),r++):(t.push({name:"object_end",value:n}),r++):(t.push({name:"object_begin",value:n}),r++);else t.push({name:".",value:n}),r++;else{for(n=e[r+=2];n&&("*"!==n||"/"!==e[r+1]);)n=e[++r];r+=2}else for(n=e[r+=2];n&&"\n"!==n;)n=e[++r]}if(r>n)throw new Error("tokenize error");return t}(e))}}])});