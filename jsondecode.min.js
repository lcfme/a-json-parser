!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.JSONParse=r():e.JSONParse=r()}(window,function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r){function n(e){if(0===e.length)return null;let r=0,n=e[r];return t();function t(){if("number"===(n=e[r]).name)return u=n.value,n=e[++r],parseFloat(u);if("quote_single"===n.name||"quote_double"===n.name)return o();if("object_begin"===n.name)return function(){var u={};n=e[++r];for(;n&&"object_end"!==n.name;){var a,i;if("string"===(n=e[r]).name?(a=n.value,n=e[++r]):a=o(),":"!==n.name)throw new Error("parse object error :");if(i=t(e.slice(++r)),u[a]=i,","!==n.name&&"object_end"!==n.name)throw new Error("parse object error end");n=e[++r]}return n=e[++r],u}();if("array_begin"===n.name)return function(){var o=[];n=e[++r];for(;n&&"array_end"!==n.name;){if(n=e[r],o.push(t(e.slice(r))),","!==n.name&&"array_end"!==n.name)throw new Error("parse array error end");n=e[++r]}return n=e[++r],o}();if("string"===n.name)return function(){if("string"===n.name){if("false"===n.value)return n=e[++r],!1;if("true"===n.value)return n=e[++r],!0;if("null"===n.value)return n=e[++r],null}throw new Error("parse words error")}();var u;throw new Error("parse error: unknow type")}function o(){let t=n.name,o="";for(n=e[++r];n;){if(n.name===t&&"escape"!==e[r-1].name)return n=e[++r],o;o+=n.value,n=e[++r]}throw new Error("parse string error")}}e.exports=function(e){return n(function(e){let r=0,n=e.length,t=[];for(;r<n;){let n=e[r];if(/\s/.test(n))r++;else if("/"!==n||"/"!==e[r+1])if("/"!==n||"*"!==e[r+1])if(/\d/.test(n)){let o="";for(;n&&/[\d.]/.test(n);){if(o.indexOf(".")>-1&&"."===n)throw new Error("tokenize number error");o+=n,n=e[++r]}t.push({name:"number",value:o})}else if(/\w/.test(n)){let o="";for(;n&&/[\w\d]/.test(n);)o+=n,n=e[++r];t.push({name:"string",value:o})}else"{"!==n?"}"!==n?"["!==n?"]"!==n?"'"!==n?'"'!==n?"\\"!==n?":"!==n?","!==n?(t.push({name:"char",value:n}),r++):(t.push({name:",",value:n}),r++):(t.push({name:":",value:n}),r++):(t.push({name:"escape",value:n}),r++):(t.push({name:"quote_double",value:n}),r++):(t.push({name:"quote_single",value:n}),r++):(t.push({name:"array_end",value:n}),r++):(t.push({name:"array_begin",value:n}),r++):(t.push({name:"object_end",value:n}),r++):(t.push({name:"object_begin",value:n}),r++);else{for(n=e[r+=2];n&&("*"!==n||"/"!==e[r+1]);)n=e[++r];r+=2}else for(n=e[r+=2];n&&"\n"!==n;)n=e[++r]}if(r>n+1)throw new Error("tokenize error");return t}(e))}}])});