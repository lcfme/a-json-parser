!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.JSONParse=r():e.JSONParse=r()}(window,function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r){function n(e){if(0===e.length)return null;let r=0,n=e[r],t=e.length;var o=a();return r!==t&&console.warn("It maybe contains errors in result. There are tokens remained in buffer."),o;function a(){if((n=e[r])&&"number"===n.name)return function(){let t=(n=e[r]).value;return n=e[++r],parseFloat(t)}();if("string"===n.name)return u();if(n&&"object_begin"===n.name)return function(){var t={};n=e[++r];for(;n&&"object_end"!==n.name;){var o,i;if("word"===(n=e[r]).name)o=n.value,n=e[++r];else{if("string"!==n.name)throw new Error("parse object key error at: "+r);o=u()}if(!n||":"!==n.name)throw new Error("parse object error : at: "+r);if(!(n=e[++r]))throw new Error("parse object error value at: "+r);if(i=a(e.slice(r)),t[o]=i,!n)throw new Error("parse object error end at: "+r);","===n.name&&(n=e[++r])}return n=e[++r],t}();if(n&&"array_begin"===n.name)return function(){var t=[];n=e[++r];for(;n&&"array_end"!==n.name;){if(n=e[r],t.push(a(e.slice(r))),!n)throw new Error("parse array error end at: "+r);if(","!==n.name){if("array_end"!==n.name)throw new Error("parse array error end at: "+r)}else n=e[++r]}return n=e[++r],t}();if(n&&"word"===n.name)return function(){if("word"===n.name){if("false"===n.value)return n=e[++r],!1;if("true"===n.value)return n=e[++r],!0;if("null"===n.value)return n=e[++r],null}throw new Error("parse words error at: "+r)}();throw new Error("parse error: unknow type at: "+r)}function u(){let t=(n=e[r]).value;return n=e[++r],t}}e.exports=function(e){return n(function(e){let r=0,n=e.length,t=[];for(;r<n;){let n=e[r];if("/"!==n||"/"!==e[r+1])if("/"!==n||"*"!==e[r+1])if(/[\d.]/.test(n)){let o="";for(;n&&/[\d.]/.test(n);){if(o.indexOf(".")>-1&&"."===n)throw new Error("Invalid Number");o+=n,n=e[++r]}if(!/\d/.test(o))throw new Error("Invalid Number");t.push({name:"number",value:o})}else if(/\w/.test(n)){let o="";for(;n&&/\w/.test(n);)o+=n,n=e[++r];t.push({name:"word",value:o})}else if('"'!==n&&"'"!==n)if("{"!==n)if("}"!==n)if("["!==n)if("]"!==n)if(":"!==n)if(","!==n){if(!/\s/.test(n))throw new Error("tokenize error");r++}else t.push({name:",",value:n}),r++;else t.push({name:":",value:n}),r++;else t.push({name:"array_end",value:n}),r++;else t.push({name:"array_begin",value:n}),r++;else t.push({name:"object_end",value:n}),r++;else t.push({name:"object_begin",value:n}),r++;else{let o=n,a="";for(n=e[++r];n&&(n!==o||"\\"===n[r-1]);)a+=n,n=e[++r];r++,t.push({name:"string",value:a})}else{for(n=e[r+=2];n&&("*"!==n||"/"!==e[r+1]);)n=e[++r];r+=2}else for(n=e[r+=2];n&&"\n"!==n;)n=e[++r]}if(r!==n)throw new Error("tokenize length error");return t}(e))}}])});